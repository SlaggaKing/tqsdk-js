.. _introduction:

简介
========================================

天勤软件提供了多种扩展方式，本章主要介绍如何使用 JavaScript SDK。


为什么使用 JavaScript SDK
------------------------------------------

JavaScript SDK 在天勤扩展方式之一，是指使用 JavaScript 语言编写扩展程序。

1. JavaScript 是一种图灵完备的语言，也就是说是一种理论上可以完成任何工作的语言。JavaScript 语法简单，应用广泛，在互联网上有大量学习资源、论坛。

2. JavaScript、HTML 和 CSS 是开发网页的三种核心语言，是一整套完整的开发框架。使用这种框架制作带界面的板块非常方便, 而且开发的板块可以直接嵌入软件界面, 实现无缝集成。

3. 天勤软件内置 v8 引擎，其自带的 **指标编辑器** 和 **策略下单** 功能就是使用 JavaScript + HTML 开发的，所以采用 JavaScript 编写扩展程序不需要专门搭建开发环境，在软件内即可直接运行、调试代码。

4. 天勤软件内置了 **指标编辑器**，开发人员专门对运行技术指标进行过优化，用户可以用较短的代码实现各种技术指标需求，同时获得较高的运行性能。

5. 为了方便用户使用以前在文华等平台上积累的指标代码，我们提供了一个网址 `天勤翻译器`_，可以将文华等代码翻译成天勤支持的 JavaScript 语言，方便在天勤软件中使用、继续开发。通过天勤软件提供的调试功能，可以提高开发效率。

6. 用户编写的指标代码全部存储在本地文件中，可以保证用户数据隐私和安全。


JavaScript SDK
------------------------------------------

JavaScript SDK 提供了 TQSDK，用户通过 TQSDK 提供的接口，来与主进程交互。

TQSDK 在使用前需要进行实例化，它完成了以下功能：

1. 在内存中维护了 js 线程与天勤软件(主程序)之间的 websocket 连接，收发、管理行情和交易数据集。
2. 读取、存储技术指标，运行时实时计算指标。
3. 管理、调度程序化交易任务。

.. code-block:: javascript
    :caption: 实例化 TQSDK

    const TQ = new TQSDK();
    // .... 用户代码


实例化 TQSDK 之后，用户就可以通过 TQSDK 实例提供的接口和计算函数，完成开发。每个计算进程中或者说每个页面只需要一个 TQSDK 实例。


文档说明
------------------------------------------


* :ref:`quick_start` - 一个最简单的完整案例，从这里可以开始了解如何使用 TQSDK。
* :ref:`tqsdk_concept` - 介绍了系统整体框架，以及一些系统使用的全局行概念的说明。
* :ref:`tqsdk_examples` - 介绍了几种常用情景下的案例。
* :ref:`tqsdk_apis` - 详细介绍了 TQSDK 中的每个接口。
* 辅助计算函数 - 详细介绍了系统提供的每个辅助计算函数


// todo： 还需要添加的文档呢

    * 可以添加交易 Task
    * importScripts() 添加模块
    * 辅助计算函数
    * 添加示例
    * 分别如何使用、添加一个模块


.. _天勤翻译器: http://127.0.0.1/ta/translate.html

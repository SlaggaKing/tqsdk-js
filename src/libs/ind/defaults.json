{"boll":"class boll extends Indicator {\n    static define() {\n        return {\n            type: \"MAIN\",\n            cname: \"布林带+NEW\",\n            state: \"KLINE\",\n            params: [\n                {name: \"N\", default: 3},\n                {name: \"P\", default: 5},\n            ],\n        };\n    }\n    init(){\n        this.top = this.OUTS(\"LINE\", \"top\", {color: YELLOW});\n        this.bottom = this.OUTS(\"LINE\", \"bottom\", {color: RED});\n        this.mid = [];\n        this.std = [];\n    }\n    calc(i) {\n        this.mid[i] = MA(i, this.DS.close, this.PARAMS.N, this.mid);\n        this.std[i] = STDEV(i, this.DS.close, this.PARAMS.N, this.std);\n        this.top[i] = this.mid[i] + this.PARAMS.P * this.std[i];\n        this.bottom[i] = this.mid[i] - this.PARAMS.P * this.std[i];\n    }\n}","kdj":"class kdj extends Indicator {\n    static define() {\n        return {\n            type: \"SUB\",\n            cname: \"KDJ+NEW\",\n            state: \"KLINE\",\n            params: [\n                {name: \"N\", default:3},\n                {name: \"M1\", default:5},\n                {name: \"M2\", default:5},\n            ],\n        }\n    }\n    init(){\n        //输入序列\n        this.k = this.OUTS(\"LINE\", \"k\", {color: RED});\n        this.d = this.OUTS(\"LINE\", \"d\", {color: GREEN});\n        this.j = this.OUTS(\"LINE\", \"j\", {color: YELLOW});\n        this.rsv = [];\n    }\n    calc(i) {\n        let hv = HIGHEST(i, this.DS.high, this.PARAMS.N);\n        let lv = LOWEST(i, this.DS.low, this.PARAMS.N);\n        this.rsv[i] = (hv == lv) ? 0 : (this.DS.close[i] - lv) / (hv - lv) * 100;\n        this.k[i] = SMA(i, this.rsv, this.PARAMS.M1, 1, this.k);\n        this.d[i] = SMA(i, this.k, this.PARAMS.M2, 1, this.d);\n        this.j[i] = 3*this.k[i] - 2*this.d[i];\n    }\n}","ma":"class ma extends Indicator {\n    static define() {\n        return {\n            type: \"MAIN\",\n            cname: \"MA+NEW\",\n            state: \"KLINE\",\n            params: [\n                {name: \"N1\", default: 3},\n                {name: \"N2\", default: 10},\n                {name: \"N3\", default: 30},\n                {name: \"N4\", default: 60},\n            ],\n        };\n    }\n    init(){\n        this.ma1 = this.OUTS(\"LINE\", \"ma1\", {color: RED});\n        this.ma2 = this.OUTS(\"LINE\", \"ma2\", {color: YELLOW});\n        this.ma3 = this.OUTS(\"LINE\", \"ma3\", {color: GREEN});\n        this.ma4 = this.OUTS(\"LINE\", \"ma4\", {color: LIGHTBLUE});\n    }\n    calc(i) {\n        this.ma1[i] = MA(i, this.DS.close, this.PARAMS.N1, this.ma1);\n        this.ma2[i] = MA(i, this.DS.close, this.PARAMS.N2, this.ma2);\n        this.ma3[i] = MA(i, this.DS.close, this.PARAMS.N3, this.ma3);\n        this.ma4[i] = MA(i, this.DS.close, this.PARAMS.N4, this.ma4);\n    }\n}","macd":"class macd extends Indicator\n{\n    static define() {\n        return {\n            type: \"SUB\",\n            cname: \"MACD+NEW\",\n            state: \"KLINE\",\n            yaxis: [\n                {id: 0, mid: 0, format: \"NUMBER2\"},\n            ],\n            params: [\n                {name: \"SHORT\", default: 20, min: 1, memo:\"短周期\"},\n                {name: \"LONG\", default: 35, min: 2, memo:\"长周期\"},\n                {name: \"M\", default: 10, min: 1},\n            ],\n        };\n    }\n    init(){\n        this.diff = this.OUTS(\"LINE\", \"diff\", {color: WHITE, width: 3});\n        this.dea = this.OUTS(\"LINE\", \"dea\", {color: YELLOW, width: 1});\n        this.bar = this.OUTS(\"RGBAR\", \"bar\");\n        this.eshort = [];\n        this.elong = [];\n    }\n    calc(i) {\n        this.eshort[i] = EMA(i, this.DS.close, this.PARAMS.SHORT, this.eshort);\n        this.elong[i] = EMA(i, this.DS.close, this.PARAMS.LONG, this.elong);\n        this.diff[i] = this.eshort[i] - this.elong[i];\n        this.dea[i] = EMA(i, this.diff, this.PARAMS.M, this.dea);\n        this.bar[i] = 2 * (this.diff[i] - this.dea[i]);\n    }\n}","mat":"class mat extends Indicator {\n    static define() {\n        return {\n            type: \"MAIN\",\n            cname: \"均线交易策略演示+NEW\",\n            state: \"KLINE\",\n            params: [\n                {name: \"N1\", default: 3},\n                {name: \"N2\", default: 10},\n            ],\n        };\n    }\n    init(){\n        this.m1 = this.OUTS(\"LINE\", \"m1\", {color: YELLOW});\n        this.m2 = this.OUTS(\"LINE\", \"m2\", {color: RED});\n    }\n    calc(i) {\n        this.m1[i] = MA(i, this.DS.close, this.PARAMS.N1, this.m1);\n        this.m2[i] = MA(i, this.DS.close, this.PARAMS.N2, this.m2);\n        if (this.m1[i] > this.m2[i] && this.m1[i-1] <= this.m2[i-1])  //短均线上穿长均线，买进\n            this.ORDER(i, \"BUY\", \"CLOSEOPEN\", 1);\n        if (this.m1[i] < this.m2[i] && this.m1[i-1] >= this.m2[i-1])  //短均线下穿长均线，卖出\n            this.ORDER(i, \"SELL\", \"CLOSEOPEN\", 1);\n    }\n}","template":"class ${1:indicator_name} extends Indicator {\n    static define() {\n        return {\n            type: \"${2:SUB}\", // 指标类型, SUB=副图指标, MAIN=主图指标\n            cname: \"\",\n            state: \"KLINE\",\n            params: [\n\n            ],\n            yaxis: [\n\n            ]\n        };\n    }\n    init(){\n        //TODO: 定义输出序列. 请在这里按下面的例子定义:\n        // this.oi = this.OUTS(\"LINE\", \"oi\", {color: YELLOW});\n    }\n    calc(i) {\n        // TODO: 在这里填写指标的计算代码\n        // this.vol[i] = this.DS.volume[i];\n        // this.oi[i] = this.DS.close_oi[i];\n    }\n}","voi":"class voi extends Indicator {\n    static define() {\n        return {\n            type: \"SUB\",\n            cname: \"成交量持仓量+NEW\",\n            state: \"KLINE\",\n            yaxis: [\n                {id: 0, format: \"HUGE\", min: 0},\n                {id: 1, format: \"HUGE\"},\n            ]\n        };\n    }\n    init(){\n        this.vol = this.OUTS(\"PCBAR\", \"vol\", {yaxis: 0});\n        this.oi = this.OUTS(\"LINE\", \"oi\", {color: YELLOW, yaxis: 1});\n    }\n    calc(i) {\n        this.vol[i] = this.DS.volume[i];\n        this.oi[i] = this.DS.close_oi[i];\n    }\n}"}